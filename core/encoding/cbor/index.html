<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>package encoding/cbor - pkg.odin-lang.org</title>	<link rel="stylesheet" type="text/css" href="https://odin-lang.org/scss/custom.min.css">
	<link rel=stylesheet href="//odin-lang.org/lib/highlight/styles/github-dark.min.css">
	<script src="//odin-lang.org/lib/highlight/highlight.min.js"></script>

	<script>hljs.registerLanguage("odin",function(a){return{aliases:["odin","odinlang","odin-lang"],keywords:{keyword:"auto_cast bit_set break case cast context continue defer distinct do dynamic else enum fallthrough for foreign if import in map not_in or_else or_return package proc return struct switch transmute type_of typeid union using when where",literal:"true false nil",built_in:"abs align_of cap clamp complex conj expand_to_tuple imag jmag kmag len max min offset_of quaternion real size_of soa_unzip soa_zip swizzle type_info_of type_of typeid_of"},illegal:"</",contains:[a.C_LINE_COMMENT_MODE,a.C_BLOCK_COMMENT_MODE,{className:"string",variants:[a.QUOTE_STRING_MODE,{begin:"'",end:"[^\\\\]'"},{begin:"`",end:"`"}]},{className:"number",variants:[{begin:a.C_NUMBER_RE+"[ijk]",relevance:1},a.C_NUMBER_MODE]}]}})</script>
	<script>hljs.highlightAll()</script>
	<link rel="stylesheet" type="text/css" href="https://odin-lang.org/css/style.css">

	<link rel="stylesheet" type="text/css" href="/style.css">

	</style>
</head>
<body>
<header class="sticky-top">
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary odin-menu">
		<div class="container">
			<a class="navbar-brand" href="https://odin-lang.org/">
			<img src="https://odin-lang.org/logo.svg" height="30" alt="Odin"></a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#odin-navbar-content" aria-controls="odin-navbar-content" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
			<div class="collapse navbar-collapse" id="odin-navbar-content">
			<ul class="navbar-nav ms-md-auto">
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/">Home</a></li>
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/docs">Docs</a></li>
				<li class="nav-item"><a class="nav-link active" href="/">Packages</a></li>
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/news">News</a></li>
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/showcase">Showcase</a></li>
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/community">Community</a></li>
				<li class="nav-item"><a class="nav-link" href="https://github.com/odin-lang/Odin" target="_blank">GitHub</a></li>
			</ul>
		</div>
		</div>
	</nav>
</header>
<main>
<div class="container full-width">
<div class="row odin-main my-4" id="pkg">
<nav id="pkg-sidebar" class="col-lg-2 odin-sidebar-border navbar-light sticky-top odin-below-navbar">
<div class="py-3">
<h4><a style="text-transform: capitalize; color: inherit;" href="/core">core Library</a></h4>
<ul>
<li class="nav-item"><a href="/core/builtin">builtin</a></li>
<li class="nav-item"><a href="/core/bufio">bufio</a></li>
<li class="nav-item"><a href="/core/bytes">bytes</a></li>
<li class="nav-item"><a href="/core/c">c</a><ul>
<li><a href="/core/c/frontend/preprocessor">frontend/preprocessor</a></li>
<li><a href="/core/c/frontend/tokenizer">frontend/tokenizer</a></li>
<li><a href="/core/c/libc">libc</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/compress">compress</a><ul>
<li><a href="/core/compress/gzip">gzip</a></li>
<li><a href="/core/compress/shoco">shoco</a></li>
<li><a href="/core/compress/zlib">zlib</a></li>
</ul>

</li>
<li class="nav-item">container<ul>
<li><a href="/core/container/bit_array">bit_array</a></li>
<li><a href="/core/container/intrusive/list">intrusive/list</a></li>
<li><a href="/core/container/lru">lru</a></li>
<li><a href="/core/container/priority_queue">priority_queue</a></li>
<li><a href="/core/container/queue">queue</a></li>
<li><a href="/core/container/small_array">small_array</a></li>
<li><a href="/core/container/topological_sort">topological_sort</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/crypto">crypto</a><ul>
<li><a href="/core/crypto/blake2b">blake2b</a></li>
<li><a href="/core/crypto/blake2s">blake2s</a></li>
<li><a href="/core/crypto/chacha20">chacha20</a></li>
<li><a href="/core/crypto/chacha20poly1305">chacha20poly1305</a></li>
<li><a href="/core/crypto/legacy/keccak">legacy/keccak</a></li>
<li><a href="/core/crypto/legacy/md5">legacy/md5</a></li>
<li><a href="/core/crypto/legacy/sha1">legacy/sha1</a></li>
<li><a href="/core/crypto/poly1305">poly1305</a></li>
<li><a href="/core/crypto/sha2">sha2</a></li>
<li><a href="/core/crypto/sha3">sha3</a></li>
<li><a href="/core/crypto/shake">shake</a></li>
<li><a href="/core/crypto/sm3">sm3</a></li>
<li><a href="/core/crypto/x25519">x25519</a></li>
</ul>

</li>
<li class="nav-item">debug<ul>
<li><a href="/core/debug/pe">pe</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/dynlib">dynlib</a></li>
<li class="nav-item">encoding<ul>
<li><a href="/core/encoding/base32">base32</a></li>
<li><a href="/core/encoding/base64">base64</a></li>
<li><a class="active" href="/core/encoding/cbor">cbor</a></li>
<li><a href="/core/encoding/csv">csv</a></li>
<li><a href="/core/encoding/endian">endian</a></li>
<li><a href="/core/encoding/entity">entity</a></li>
<li><a href="/core/encoding/hex">hex</a></li>
<li><a href="/core/encoding/hxa">hxa</a></li>
<li><a href="/core/encoding/json">json</a></li>
<li><a href="/core/encoding/varint">varint</a></li>
<li><a href="/core/encoding/xml">xml</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/fmt">fmt</a></li>
<li class="nav-item"><a href="/core/hash">hash</a><ul>
<li><a href="/core/hash/xxhash">xxhash</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/image">image</a><ul>
<li><a href="/core/image/netpbm">netpbm</a></li>
<li><a href="/core/image/png">png</a></li>
<li><a href="/core/image/qoi">qoi</a></li>
<li><a href="/core/image/tga">tga</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/io">io</a></li>
<li class="nav-item"><a href="/core/log">log</a></li>
<li class="nav-item"><a href="/core/math">math</a><ul>
<li><a href="/core/math/big">big</a></li>
<li><a href="/core/math/bits">bits</a></li>
<li><a href="/core/math/cmplx">cmplx</a></li>
<li><a href="/core/math/ease">ease</a></li>
<li><a href="/core/math/fixed">fixed</a></li>
<li><a href="/core/math/linalg">linalg</a></li>
<li><a href="/core/math/linalg/glsl">linalg/glsl</a></li>
<li><a href="/core/math/linalg/hlsl">linalg/hlsl</a></li>
<li><a href="/core/math/noise">noise</a></li>
<li><a href="/core/math/rand">rand</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/mem">mem</a><ul>
<li><a href="/core/mem/virtual">virtual</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/net">net</a></li>
<li class="nav-item">odin<ul>
<li><a href="/core/odin/ast">ast</a></li>
<li><a href="/core/odin/doc-format">doc-format</a></li>
<li><a href="/core/odin/format">format</a></li>
<li><a href="/core/odin/parser">parser</a></li>
<li><a href="/core/odin/printer">printer</a></li>
<li><a href="/core/odin/tokenizer">tokenizer</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/os">os</a></li>
<li class="nav-item">path<ul>
<li><a href="/core/path/filepath">filepath</a></li>
<li><a href="/core/path/slashpath">slashpath</a></li>
</ul>

</li>
<li class="nav-item">prof<ul>
<li><a href="/core/prof/spall">spall</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/reflect">reflect</a></li>
<li class="nav-item"><a href="/core/runtime">runtime</a></li>
<li class="nav-item"><a href="/core/simd">simd</a></li>
<li class="nav-item"><a href="/core/slice">slice</a><ul>
<li><a href="/core/slice/heap">heap</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/sort">sort</a></li>
<li class="nav-item"><a href="/core/strconv">strconv</a><ul>
<li><a href="/core/strconv/decimal">decimal</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/strings">strings</a></li>
<li class="nav-item"><a href="/core/sync">sync</a></li>
<li class="nav-item"><a href="/core/testing">testing</a></li>
<li class="nav-item">text<ul>
<li><a href="/core/text/edit">edit</a></li>
<li><a href="/core/text/i18n">i18n</a></li>
<li><a href="/core/text/match">match</a></li>
<li><a href="/core/text/scanner">scanner</a></li>
<li><a href="/core/text/table">table</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/thread">thread</a></li>
<li class="nav-item"><a href="/core/time">time</a></li>
<li class="nav-item"><a href="/core/unicode">unicode</a><ul>
<li><a href="/core/unicode/utf16">utf16</a></li>
<li><a href="/core/unicode/utf8">utf8</a></li>
<li><a href="/core/unicode/utf8/utf8string">utf8/utf8string</a></li>
</ul>

</li>
</ul>
</div>
</nav>
<article class="col-lg-8 p-4 documentation odin-article">
<nav class="pkg-breadcrumb" aria-label="breadcrumb">
<ol class="breadcrumb">
<li class="breadcrumb-item"><a href="/core">core</a></li>
<li class="breadcrumb-item">encoding</li>
<li class="breadcrumb-item active" aria-current="page"><a href="/core/encoding/cbor">cbor</a></li>
</ol>
</nav>
<h1>package core:encoding/cbor<div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor"><em>Source</em></a></div></h1>

		<div class="odin-search-wrapper">
			<input type="search" id="odin-search" class="odin-search-package" autocomplete="off" spellcheck="false" placeholder="Fuzzy Search...">
			<div class="odin-search-shortcut">
				<div class="odin-search-key key-macos">⌘K</div>
				<div class="odin-search-key key-windows">Ctrl+K</div>
				<span class="odin-search-or">or</span>
				<div class="odin-search-key">/</div>
			</div>
		</div>
	
<div id="odin-search-info">
<div id="odin-search-time"></div>

		<div id="odin-search-options">
			<input type="checkbox" id="odin-search-filter" name="odin-search-filter">
			<label for="odin-search-filter">Filter Results</label>
		</div>
</div>
<ul id="odin-search-results"></ul>
<div id="pkg-top">
<h2>Overview</h2>
<div id="pkg-overview">
<p>Package cbor encodes, decodes, marshals and unmarshals types from/into RCF 8949 compatible CBOR binary.
Also provided are conversion to and from JSON and the CBOR diagnostic format.</p>
<p><b>Allocations:</b></p>
<p>In general, when in the following table it says allocations are done on the <code>context.temp_allocator</code>, these allocations
are still attempted to be deallocated.
This allows you to use an allocator with freeing implemented as the <code>context.temp_allocator</code> which is handy with big CBOR.</p>
<p>If you use the default <code>context.temp_allocator</code> it will be returned back to its state when the process (en/decoding, (un)marshal) started.</p>
<p><span class="doc-list"><i>Encoding</i>:  If the <code>.Deterministic_Map_Sorting</code> flag is set on the encoder, this allocates on <code>context.temp_allocator</code></span>
               some space for the keys of maps in order to sort them and then write them.
               Other than that there are no allocations (only for the final bytes if you use <code>cbor.encode_into_bytes</code>.</p>
<p><span class="doc-list"><i>Decoding</i>:  Allocates everything on the given allocator and input given can be deleted after decoding.</span>
               <i>No</i> allocations are done on the <code>context.temp_allocator</code>.</p>
<p><span class="doc-list"><i>Marshal</i>:   Same allocation strategy as encoding.</span></p>
<p><span class="doc-list"><i>Unmarshal</i>: Allocates everything on the given allocator and input given can be deleted after unmarshalling.</span>
               Some temporary allocations are done on the <code>context.temp_allocator</code>.</p>
<p><b>Determinism:</b></p>
<p>CBOR defines a deterministic en/decoder, which among other things uses the smallest type possible for integers and floats,
and sorts map keys by their (encoded) lexical bytewise order.</p>
<p>You can enable this behaviour using a combination of flags, also available as the <code>cbor.ENCODE_FULLY_DETERMINISTIC</code> constant.
If you just want the small size that comes with this, but not the map sorting (which has a performance cost) you can use the
<code>cbor.ENCODE_SMALL</code> constant for the flags.</p>
<p>A deterministic float is a float in the smallest type (f16, f32, f64) that hasn't changed after conversion.
A deterministic integer is an integer in the smallest representation (u8, u16, u32, u64) it fits in.</p>
<p><b>Untrusted Input:</b></p>
<p>By default input is treated as untrusted, this means the sizes that are encoded in the CBOR are not blindly trusted.
If you were to trust these sizes, and allocate space for them an attacker would be able to cause massive allocations with small payloads.</p>
<p>The decoder has a <code>max_pre_alloc</code> field that specifies the maximum amount of bytes (roughly) to pre allocate, a KiB by default.</p>
<p>This does mean reallocations are more common though, you can, if you know the input is trusted, add the <code>.Trusted_Input</code> flag to the decoder.</p>
<p><b>Tags:</b></p>
<p>CBOR describes tags that you can wrap values with to assign a number to describe what type of data will follow.</p>
<p>More information and a list of default tags can be found here: <a href="https://www.rfc-editor.org/rfc/rfc8949.html#name-tagging-of-items">RFC 8949 Section 3.4</a>.</p>
<p>A list of registered extension types can be found here: <a href="https://www.iana.org/assignments/cbor-tags/cbor-tags.xhtml">IANA CBOR assignments</a>.</p>
<p>Tags can either be assigned to a distinct Odin type (used by default),
or be used with struct tags (<code>cbor_tag:"base64"</code>, or <code>cbor_tag:"1"</code> for example).</p>
<p>By default, the following tags are supported/provided by this implementation:</p>
<p><span class="doc-list"><i>1/epoch</i>:   Assign this tag to <code>time.Time</code> or integer fields to use the defined seconds since epoch format.</span></p>
<p><span class="doc-list"><i>24/cbor</i>:   Assign this tag to string or byte fields to store encoded CBOR (not decoding it).</span></p>
<p><span class="doc-list"><i>34/base64</i>: Assign this tag to string or byte fields to store and decode the contents in base64.</span></p>
<p><span class="doc-list"><i>2 & 3</i>:     Used automatically by the implementation to encode and decode big numbers into/from <code>core:math/big</code>.</span></p>
<p><span class="doc-list"><i>55799</i>:     Self described CBOR, used when <code>.Self_Described_CBOR</code> flag is used to wrap the entire binary.</span>
               This shows other implementations that we are dealing with CBOR by just looking at the first byte of input.</p>
<p><span class="doc-list"><i>1010</i>:      An extension tag that defines a string type followed by its value, this is used by this implementation to support Odin's unions.</span></p>
<p>Users can provide their own tag implementations using the <code>cbor.tag_register_type(...)</code> to register a tag for a distinct Odin type
used automatically when it is encountered during marshal and unmarshal.
Or with <code>cbor.tag_register_number(...)</code> to register a tag number along with an identifier for convenience that can be used with struct tags,
e.g. <code>cbor_tag:"69"</code> or <code>cbor_tag:"my_tag"</code>.</p>
<p>You can look at the default tags provided for pointers on how these implementations work.</p>
<details open class="code-example">
<summary><b>Example:</b></summary>
<pre><code class="hljs" data-lang="odin">package main

import "core:encoding/cbor"
import "core:fmt"
import "core:time"

Possibilities :: union {
	string,
	int,
}

Data :: struct {
	str: string,
	neg: cbor.Negative_U16,            // Store a CBOR value directly.
	now: time.Time `cbor_tag:"epoch"`, // Wrapped in the epoch tag.
	ignore_this: ^Data `cbor:"-"`,     // Ignored by implementation.
	renamed: f32 `cbor:"renamed :)"`,  // Renamed when encoded.
	my_union: Possibilities,           // Union support.
}

main :: proc() {
	now := time.Time{_nsec = 1701117968 * 1e9}

	data := Data{
		str         = "Hello, World!",
		neg         = 300,
		now         = now,
		ignore_this = &Data{},
		renamed     = 123123.125,
		my_union    = 3,
	}
	
	// Marshal the struct into binary CBOR.
	binary, err := cbor.marshal(data, cbor.ENCODE_FULLY_DETERMINISTIC)
	assert(err == nil)
	defer delete(binary)
	
	// Decode the binary data into a `cbor.Value`.
	decoded, derr := cbor.decode(string(binary))
	assert(derr == nil)
	defer cbor.destroy(decoded)

	// Turn the CBOR into a human readable representation.
	diagnosis, eerr := cbor.diagnose(decoded)
	assert(eerr == nil)
	defer delete(diagnosis)

	fmt.println(diagnosis)
}
</code></pre>
<b>Output:</b>
<pre class="doc-code">{
		"my_union": 1010([
				"int",
				3
		]),
		"neg": -301,
		"now": 1(1701117968),
		"renamed :)": 123123.12500000,
		"str": "Hello, World!"
}
</pre>
</details>
</div>
<div id="pkg-index">
<h2>Index</h2>
<div>
<details class="doc-index" id="doc-index-Types" aria-labelledby="#doc-index-Types-header">
<summary id="#doc-index-Types-header">
Types (37)</summary>
<ul>
<li><a href="#Add">Add</a></li>
<li><a href="#Array">Array</a></li>
<li><a href="#Atom">Atom</a></li>
<li><a href="#Bytes">Bytes</a></li>
<li><a href="#Decode_Data_Error">Decode_Data_Error</a></li>
<li><a href="#Decode_Error">Decode_Error</a></li>
<li><a href="#Decoder">Decoder</a></li>
<li><a href="#Decoder_Flag">Decoder_Flag</a></li>
<li><a href="#Decoder_Flags">Decoder_Flags</a></li>
<li><a href="#Encode_Data_Error">Encode_Data_Error</a></li>
<li><a href="#Encode_Error">Encode_Error</a></li>
<li><a href="#Encoder">Encoder</a></li>
<li><a href="#Encoder_Flag">Encoder_Flag</a></li>
<li><a href="#Encoder_Flags">Encoder_Flags</a></li>
<li><a href="#Header">Header</a></li>
<li><a href="#Major">Major</a></li>
<li><a href="#Map">Map</a></li>
<li><a href="#Map_Entry">Map_Entry</a></li>
<li><a href="#Marshal_Data_Error">Marshal_Data_Error</a></li>
<li><a href="#Marshal_Error">Marshal_Error</a></li>
<li><a href="#Negative_U16">Negative_U16</a></li>
<li><a href="#Negative_U32">Negative_U32</a></li>
<li><a href="#Negative_U64">Negative_U64</a></li>
<li><a href="#Negative_U8">Negative_U8</a></li>
<li><a href="#Nil">Nil</a></li>
<li><a href="#Simple">Simple</a></li>
<li><a href="#Tag">Tag</a></li>
<li><a href="#Tag_Implementation">Tag_Implementation</a></li>
<li><a href="#Tag_Marshal_Proc">Tag_Marshal_Proc</a></li>
<li><a href="#Tag_Number">Tag_Number</a></li>
<li><a href="#Tag_Unmarshal_Proc">Tag_Unmarshal_Proc</a></li>
<li><a href="#Text">Text</a></li>
<li><a href="#Undefined">Undefined</a></li>
<li><a href="#Unmarshal_Data_Error">Unmarshal_Data_Error</a></li>
<li><a href="#Unmarshal_Error">Unmarshal_Error</a></li>
<li><a href="#Unsupported_Type_Error">Unsupported_Type_Error</a></li>
<li><a href="#Value">Value</a></li>
</ul>
</details>
</div>
<div>
<details class="doc-index" id="doc-index-Constants" aria-labelledby="#doc-index-Constants-header">
<summary id="#doc-index-Constants-header">
Constants (16)</summary>
<ul>
<li><a href="#DEFAULT_MAX_PRE_ALLOC">DEFAULT_MAX_PRE_ALLOC</a></li>
<li><a href="#ENCODE_FULLY_DETERMINISTIC">ENCODE_FULLY_DETERMINISTIC</a></li>
<li><a href="#ENCODE_SMALL">ENCODE_SMALL</a></li>
<li><a href="#INITIALIZE_DEFAULT_TAGS">INITIALIZE_DEFAULT_TAGS</a></li>
<li><a href="#INITIAL_STREAMED_BYTES_CAPACITY">INITIAL_STREAMED_BYTES_CAPACITY</a></li>
<li><a href="#INITIAL_STREAMED_CONTAINER_CAPACITY">INITIAL_STREAMED_CONTAINER_CAPACITY</a></li>
<li><a href="#TAG_BASE64_ID">TAG_BASE64_ID</a></li>
<li><a href="#TAG_BASE64_NR">TAG_BASE64_NR</a></li>
<li><a href="#TAG_CBOR_ID">TAG_CBOR_ID</a></li>
<li><a href="#TAG_CBOR_NR">TAG_CBOR_NR</a></li>
<li><a href="#TAG_EPOCH_TIME_ID">TAG_EPOCH_TIME_ID</a></li>
<li><a href="#TAG_EPOCH_TIME_NR">TAG_EPOCH_TIME_NR</a></li>
<li><a href="#TAG_NEGATIVE_BIG_NR">TAG_NEGATIVE_BIG_NR</a></li>
<li><a href="#TAG_OBJECT_TYPE">TAG_OBJECT_TYPE</a></li>
<li><a href="#TAG_SELF_DESCRIBED_CBOR">TAG_SELF_DESCRIBED_CBOR</a></li>
<li><a href="#TAG_UNSIGNED_BIG_NR">TAG_UNSIGNED_BIG_NR</a></li>
</ul>
</details>
</div>
<div>
<details class="doc-index" id="doc-index-Variables" aria-labelledby="#doc-index-Variables-header">
<summary id="#doc-index-Variables-header">
Variables (0)</summary>
<p class="pkg-empty-section">This section is empty.</p>
</details>
</div>
<div>
<details class="doc-index" id="doc-index-Procedures" aria-labelledby="#doc-index-Procedures-header">
<summary id="#doc-index-Procedures-header">
Procedures (34)</summary>
<ul>
<li><a href="#decode_from_decoder">decode_from_decoder</a></li>
<li><a href="#decode_from_reader">decode_from_reader</a></li>
<li><a href="#decode_from_string">decode_from_string</a></li>
<li><a href="#decode_to_unmarshal_err">decode_to_unmarshal_err</a></li>
<li><a href="#decode_to_unmarshal_err_p">decode_to_unmarshal_err_p</a></li>
<li><a href="#decode_to_unmarshal_err_p2">decode_to_unmarshal_err_p2</a></li>
<li><a href="#destroy">destroy</a></li>
<li><a href="#diagnose_to_writer">diagnose_to_writer</a></li>
<li><a href="#diagnostic_string">diagnostic_string</a></li>
<li><a href="#encode_into_builder">encode_into_builder</a></li>
<li><a href="#encode_into_bytes">encode_into_bytes</a></li>
<li><a href="#encode_into_encoder">encode_into_encoder</a></li>
<li><a href="#encode_into_writer">encode_into_writer</a></li>
<li><a href="#encode_stream_begin">encode_stream_begin</a></li>
<li><a href="#encode_stream_end">encode_stream_end</a></li>
<li><a href="#encode_stream_map_entry">encode_stream_map_entry</a></li>
<li><a href="#encode_to_marshal_err">encode_to_marshal_err</a></li>
<li><a href="#encode_to_marshal_err_p2">encode_to_marshal_err_p2</a></li>
<li><a href="#from_json">from_json</a></li>
<li><a href="#marshal_into_builder">marshal_into_builder</a></li>
<li><a href="#marshal_into_bytes">marshal_into_bytes</a></li>
<li><a href="#marshal_into_encoder">marshal_into_encoder</a></li>
<li><a href="#marshal_into_writer">marshal_into_writer</a></li>
<li><a href="#negative_u16_to_int">negative_u16_to_int</a></li>
<li><a href="#negative_u32_to_int">negative_u32_to_int</a></li>
<li><a href="#negative_u64_to_int">negative_u64_to_int</a></li>
<li><a href="#negative_u8_to_int">negative_u8_to_int</a></li>
<li><a href="#tag_register_number">tag_register_number</a></li>
<li><a href="#tag_register_type">tag_register_type</a></li>
<li><a href="#tags_register_defaults">tags_register_defaults</a></li>
<li><a href="#to_json">to_json</a></li>
<li><a href="#unmarshal_from_decoder">unmarshal_from_decoder</a></li>
<li><a href="#unmarshal_from_reader">unmarshal_from_reader</a></li>
<li><a href="#unmarshal_from_string">unmarshal_from_string</a></li>
</ul>
</details>
</div>
<div>
<details class="doc-index" id="doc-index-Procedure Groups" aria-labelledby="#doc-index-Procedure Groups-header">
<summary id="#doc-index-Procedure Groups-header">
Procedure Groups (11)</summary>
<ul>
<li><a href="#decode">decode</a></li>
<li><a href="#decode_from">decode_from</a></li>
<li><a href="#diagnose">diagnose</a></li>
<li><a href="#encode">encode</a></li>
<li><a href="#encode_into">encode_into</a></li>
<li><a href="#encode_stream_array_item">encode_stream_array_item</a></li>
<li><a href="#err_conv">err_conv</a></li>
<li><a href="#marshal">marshal</a></li>
<li><a href="#marshal_into">marshal_into</a></li>
<li><a href="#negative_to_int">negative_to_int</a></li>
<li><a href="#unmarshal">unmarshal</a></li>
</ul>
</details>
</div>
</div>
</div>
<section class="documentation">
<h2 id="pkg-Types" class="pkg-header">Types</h2>
<div class="pkg-entity">
<h3 id="Add"><span><a class="doc-id-link" href="#Add">Add<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L61"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Add :: <span class="keyword-type">enum</span> <a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a> {
	False          = 20, 
	True           = 21, 
	Nil            = 22, 
	Undefined      = 23, 
	One_Byte       = 24, 
	Two_Bytes      = 25, 
	Four_Bytes     = 26, 
	Eight_Bytes    = 27, 
	Length_Unknown = 31, 
	Break          = 31, 
}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>The lower 3 bits of the header which denotes additional information for the type of value.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="Array"><span><a class="doc-id-link" href="#Array">Array<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L106"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Array :: []<a class="code-typename" href="/core/encoding/cbor/#Value">Value</a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Atom"><span><a class="doc-id-link" href="#Atom">Atom<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L126"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Atom :: <a class="code-typename" href="/core/encoding/cbor/#Simple">Simple</a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Bytes"><span><a class="doc-id-link" href="#Bytes">Bytes<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L103"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Bytes :: []<a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Decode_Data_Error"><span><a class="doc-id-link" href="#Decode_Data_Error">Decode_Data_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L156"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Decode_Data_Error :: <span class="keyword-type">enum</span> <a href="/core/builtin#int"><span class="doc-builtin">int</span></a> {
	None, 
	Bad_Major,                <span class="comment">// An invalid major type was encountered.</span>
	Bad_Argument,             <span class="comment">// A general unexpected value (most likely invalid additional info in header).</span>
	Bad_Tag_Value,            <span class="comment">// When the type of value for the given tag is not valid.</span>
	Nested_Indefinite_Length, <span class="comment">// When an streamed/indefinite length container nests another, this is not allowed.</span>
	Nested_Tag,               <span class="comment">// When a tag's value is another tag, this is not allowed.</span>
	Length_Too_Big,           <span class="comment">// When the length of a container (map, array, bytes, string) is more than `max(int)`.</span>
	Disallowed_Streaming,     <span class="comment">// When the `.Disallow_Streaming` flag is set and a streaming header is encountered.</span>
	Break,                    <span class="comment">// When the `break` header was found without any stream to break off.</span>
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Decode_Error"><span><a class="doc-id-link" href="#Decode_Error">Decode_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L144"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Decode_Error :: <span class="keyword-type">union</span> {
	io.<a class="code-typename" href="/core/io/#Error">Error</a>, 
	runtime.<a class="code-typename" href="/core/runtime/#Allocator_Error">Allocator_Error</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Decode_Data_Error">Decode_Data_Error</a>, 
}</pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#decode_to_unmarshal_err">decode_to_unmarshal_err</a></li>
<li><a href="/core/encoding/cbor/#decode_to_unmarshal_err_p">decode_to_unmarshal_err_p</a></li>
<li><a href="/core/encoding/cbor/#decode_to_unmarshal_err_p2">decode_to_unmarshal_err_p2</a></li>
<li><a href="/core/encoding/cbor/#err_conv">err_conv</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
<h5>Related Procedures With Returns</h5>
<ul>
<li><a href="/core/encoding/cbor/#decode_from_decoder">decode_from_decoder</a></li>
<li><a href="/core/encoding/cbor/#decode_from_reader">decode_from_reader</a></li>
<li><a href="/core/encoding/cbor/#decode_from_string">decode_from_string</a></li>
<li><a href="/core/encoding/cbor/#decode">decode</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#decode_from">decode_from</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Decoder"><span><a class="doc-id-link" href="#Decoder">Decoder<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L65"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Decoder :: <span class="keyword-type">struct</span> {
	<span class="comment">// The max amount of bytes allowed to pre-allocate when `.Trusted_Input` is not set on the</span>
	<span class="comment">// flags.</span>
	max_pre_alloc: <a href="/core/builtin#int"><span class="doc-builtin">int</span></a>,
	flags:         <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Decoder_Flag">Decoder_Flag</a>],
	reader:        io.<a class="code-typename" href="/core/io/#Stream">Stream</a>,
}</pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#decode_from_decoder">decode_from_decoder</a></li>
<li><a href="/core/encoding/cbor/#unmarshal_from_decoder">unmarshal_from_decoder</a></li>
<li><a href="/core/encoding/cbor/#decode">decode</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#decode_from">decode_from</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Decoder_Flag"><span><a class="doc-id-link" href="#Decoder_Flag">Decoder_Flag<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L46"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Decoder_Flag :: <span class="keyword-type">enum</span> <a href="/core/builtin#int"><span class="doc-builtin">int</span></a> {
	<span class="comment">// Rejects (with an error `.Disallowed_Streaming`) when a streaming CBOR header is encountered.</span>
	Disallow_Streaming, 
	<span class="comment">// Pre-allocates buffers and containers with the size that was set in the CBOR header.</span>
	<span class="comment">// This should only be enabled when you control both ends of the encoding, if you don't,</span>
	<span class="comment">// attackers can craft input that causes massive (`max(u64)`) byte allocations for a few bytes of</span>
	<span class="comment">// CBOR.</span>
	Trusted_Input, 
	<span class="comment">// Makes the decoder shrink of excess capacity from allocated buffers/containers before returning.</span>
	Shrink_Excess, 
	<span class="comment">// Internal flag to do initialization.</span>
	_In_Progress, 
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Decoder_Flags"><span><a class="doc-id-link" href="#Decoder_Flags">Decoder_Flags<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L63"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Decoder_Flags :: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Decoder_Flag">Decoder_Flag</a>]</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Encode_Data_Error"><span><a class="doc-id-link" href="#Encode_Data_Error">Encode_Data_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L168"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Encode_Data_Error :: <span class="keyword-type">enum</span> <a href="/core/builtin#int"><span class="doc-builtin">int</span></a> {
	None, 
	Invalid_Simple, <span class="comment">// When a simple is being encoded that is out of the range `0..=19` and `32..=max(u8)`.</span>
	Int_Too_Big,    <span class="comment">// When an int is being encoded that is larger than `max(u64)` or smaller than `min(u64)`.</span>
	Bad_Tag_Value,  <span class="comment">// When the type of value is not supported by the tag implementation.</span>
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Encode_Error"><span><a class="doc-id-link" href="#Encode_Error">Encode_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L150"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Encode_Error :: <span class="keyword-type">union</span> {
	io.<a class="code-typename" href="/core/io/#Error">Error</a>, 
	runtime.<a class="code-typename" href="/core/runtime/#Allocator_Error">Allocator_Error</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Encode_Data_Error">Encode_Data_Error</a>, 
}</pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#encode_to_marshal_err">encode_to_marshal_err</a></li>
<li><a href="/core/encoding/cbor/#encode_to_marshal_err_p2">encode_to_marshal_err_p2</a></li>
<li><a href="/core/encoding/cbor/#err_conv">err_conv</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
<h5>Related Procedures With Returns</h5>
<ul>
<li><a href="/core/encoding/cbor/#encode_into_builder">encode_into_builder</a></li>
<li><a href="/core/encoding/cbor/#encode_into_bytes">encode_into_bytes</a></li>
<li><a href="/core/encoding/cbor/#encode_into_encoder">encode_into_encoder</a></li>
<li><a href="/core/encoding/cbor/#encode_into_writer">encode_into_writer</a></li>
<li><a href="/core/encoding/cbor/#encode_stream_map_entry">encode_stream_map_entry</a></li>
<li><a href="/core/encoding/cbor/#encode">encode</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#encode_into">encode_into</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#encode_stream_array_item">encode_stream_array_item</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Encoder"><span><a class="doc-id-link" href="#Encoder">Encoder<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L41"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Encoder :: <span class="keyword-type">struct</span> {
	flags:  <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>],
	writer: io.<a class="code-typename" href="/core/io/#Stream">Stream</a>,
}</pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#encode_into_encoder">encode_into_encoder</a></li>
<li><a href="/core/encoding/cbor/#encode_stream_map_entry">encode_stream_map_entry</a></li>
<li><a href="/core/encoding/cbor/#marshal_into_encoder">marshal_into_encoder</a></li>
<li><a href="/core/encoding/cbor/#encode">encode</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#encode_into">encode_into</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#encode_stream_array_item">encode_stream_array_item</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#marshal">marshal</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#marshal_into">marshal_into</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Encoder_Flag"><span><a class="doc-id-link" href="#Encoder_Flag">Encoder_Flag<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L11"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Encoder_Flag :: <span class="keyword-type">enum</span> <a href="/core/builtin#int"><span class="doc-builtin">int</span></a> {
	<span class="comment">// CBOR defines a tag header that also acts as a file/binary header,</span>
	<span class="comment">// this way decoders can check the first header of the binary and see if it is CBOR.</span>
	Self_Described_CBOR, 
	<span class="comment">// Integers are stored in the smallest integer type it fits.</span>
	<span class="comment">// This involves checking each int against the max of all its smaller types.</span>
	Deterministic_Int_Size, 
	<span class="comment">// Floats are stored in the smallest size float type without losing precision.</span>
	<span class="comment">// This involves casting each float down to its smaller types and checking if it changed.</span>
	Deterministic_Float_Size, 
	<span class="comment">// Sort maps by their keys in bytewise lexicographic order of their deterministic encoding.</span>
	<span class="comment">// NOTE: In order to do this, all keys of a map have to be pre-computed, sorted, and</span>
	<span class="comment">// then written, this involves temporary allocations for the keys and a copy of the map itself.</span>
	Deterministic_Map_Sorting, 
	<span class="comment">// Internal flag to do initialization.</span>
	_In_Progress, 
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Encoder_Flags"><span><a class="doc-id-link" href="#Encoder_Flags">Encoder_Flags<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L33"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Encoder_Flags :: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>]</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Header"><span><a class="doc-id-link" href="#Header">Header<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L22"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Header :: <span class="keyword-type">enum</span> <a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a> {
	U8        = 24, 
	U16       = 25, 
	U32       = 26, 
	U64       = 27, 
	Neg_U8    = 56, 
	Neg_U16   = 57, 
	Neg_U32   = 58, 
	Neg_U64   = 59, 
	False     = 244, 
	True      = 245, 
	Nil       = 246, 
	Undefined = 247, 
	Simple    = 248, 
	F16       = 249, 
	F32       = 250, 
	F64       = 251, 
	Break     = 255, 
}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Known/common headers are defined, undefined headers can still be valid.
Higher 3 bits is for the major type and lower 5 bits for the additional information.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="Major"><span><a class="doc-id-link" href="#Major">Major<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L49"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Major :: <span class="keyword-type">enum</span> <a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a> {
	Unsigned, 
	Negative, 
	Bytes, 
	Text, 
	Array, 
	Map, 
	Tag, 
	Other, 
}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>The higher 3 bits of the header which denotes what type of value it is.</p>
</details>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#encode_stream_begin">encode_stream_begin</a></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Map"><span><a class="doc-id-link" href="#Map">Map<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L108"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Map :: []<a class="code-typename" href="/core/encoding/cbor/#Map_Entry">Map_Entry</a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Map_Entry"><span><a class="doc-id-link" href="#Map_Entry">Map_Entry<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L109"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Map_Entry :: <span class="keyword-type">struct</span> {
	key:   <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>,
	<span class="comment">// Can be any unsigned, negative, float, Simple, bool, Text.</span>
	value: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>,
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Marshal_Data_Error"><span><a class="doc-id-link" href="#Marshal_Data_Error">Marshal_Data_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L181"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Marshal_Data_Error :: <span class="keyword-type">enum</span> <a href="/core/builtin#int"><span class="doc-builtin">int</span></a> {
	None, 
	Invalid_CBOR_Tag, <span class="comment">// When the struct tag `cbor_tag:""` is not a registered name or number.</span>
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Marshal_Error"><span><a class="doc-id-link" href="#Marshal_Error">Marshal_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L136"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Marshal_Error :: <span class="keyword-type">union</span> {
	io.<a class="code-typename" href="/core/io/#Error">Error</a>, 
	runtime.<a class="code-typename" href="/core/runtime/#Allocator_Error">Allocator_Error</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Encode_Data_Error">Encode_Data_Error</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Marshal_Data_Error">Marshal_Data_Error</a>, 
	runtime.<a class="code-typename" href="/core/runtime/#Maybe">Maybe</a>($T=Unsupported_Type_Error), 
}</pre>
</div>
<h5>Related Procedures With Returns</h5>
<ul>
<li><a href="/core/encoding/cbor/#encode_to_marshal_err">encode_to_marshal_err</a></li>
<li><a href="/core/encoding/cbor/#encode_to_marshal_err_p2">encode_to_marshal_err_p2</a></li>
<li><a href="/core/encoding/cbor/#marshal_into_builder">marshal_into_builder</a></li>
<li><a href="/core/encoding/cbor/#marshal_into_bytes">marshal_into_bytes</a></li>
<li><a href="/core/encoding/cbor/#marshal_into_encoder">marshal_into_encoder</a></li>
<li><a href="/core/encoding/cbor/#marshal_into_writer">marshal_into_writer</a></li>
<li><a href="/core/encoding/cbor/#err_conv">err_conv</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#marshal">marshal</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#marshal_into">marshal_into</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Negative_U16"><span><a class="doc-id-link" href="#Negative_U16">Negative_U16<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L205"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Negative_U16 :: <span class="keyword-type">distinct</span> <a href="/core/builtin#u16"><span class="doc-builtin">u16</span></a></pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#negative_u16_to_int">negative_u16_to_int</a></li>
<li><a href="/core/encoding/cbor/#negative_to_int">negative_to_int</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Negative_U32"><span><a class="doc-id-link" href="#Negative_U32">Negative_U32<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L206"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Negative_U32 :: <span class="keyword-type">distinct</span> <a href="/core/builtin#u32"><span class="doc-builtin">u32</span></a></pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#negative_u32_to_int">negative_u32_to_int</a></li>
<li><a href="/core/encoding/cbor/#negative_to_int">negative_to_int</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Negative_U64"><span><a class="doc-id-link" href="#Negative_U64">Negative_U64<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L207"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Negative_U64 :: <span class="keyword-type">distinct</span> <a href="/core/builtin#u64"><span class="doc-builtin">u64</span></a></pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#negative_u64_to_int">negative_u64_to_int</a></li>
<li><a href="/core/encoding/cbor/#negative_to_int">negative_to_int</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Negative_U8"><span><a class="doc-id-link" href="#Negative_U8">Negative_U8<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L204"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Negative_U8 :: <span class="keyword-type">distinct</span> <a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a></pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#negative_u8_to_int">negative_u8_to_int</a></li>
<li><a href="/core/encoding/cbor/#negative_to_int">negative_to_int</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Nil"><span><a class="doc-id-link" href="#Nil">Nil<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L121"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Nil :: <span class="keyword-type">distinct</span> <a href="/core/builtin#rawptr"><span class="doc-builtin">rawptr</span></a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Simple"><span><a class="doc-id-link" href="#Simple">Simple<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L125"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Simple :: <span class="keyword-type">distinct</span> <a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a></pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>A distinct atom-like number, range from <code>0..=19</code> and <code>32..=max(u8)</code>.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="Tag"><span><a class="doc-id-link" href="#Tag">Tag<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L114"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Tag :: <span class="keyword-type">struct</span> {
	number: <a href="/core/builtin#u64"><span class="doc-builtin">u64</span></a>,
	value:  <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>,
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Tag_Implementation"><span><a class="doc-id-link" href="#Tag_Implementation">Tag_Implementation<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L57"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Tag_Implementation :: <span class="keyword-type">struct</span> {
	data:      <a href="/core/builtin#rawptr"><span class="doc-builtin">rawptr</span></a>,
	unmarshal: <a class="code-typename" href="/core/encoding/cbor/#Tag_Unmarshal_Proc">Tag_Unmarshal_Proc</a>,
	marshal:   <a class="code-typename" href="/core/encoding/cbor/#Tag_Marshal_Proc">Tag_Marshal_Proc</a>,
}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>A tag implementation that handles marshals and unmarshals for the tag it is registered on.</p>
</details>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#tag_register_number">tag_register_number</a></li>
<li><a href="/core/encoding/cbor/#tag_register_type">tag_register_type</a></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Tag_Marshal_Proc"><span><a class="doc-id-link" href="#Tag_Marshal_Proc">Tag_Marshal_Proc<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L67"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Tag_Marshal_Proc :: <span class="keyword-type">proc</span>(self: ^<a class="code-typename" href="/core/encoding/cbor/#Tag_Implementation">Tag_Implementation</a>, e: <a class="code-typename" href="/core/encoding/cbor/#Encoder">Encoder</a>, v: <a href="/core/builtin#any"><span class="doc-builtin">any</span></a>) -> <a class="code-typename" href="/core/encoding/cbor/#Marshal_Error">Marshal_Error</a></pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Procedure responsible for marshalling the tag in the given <code>any</code> into the given encoder.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="Tag_Number"><span><a class="doc-id-link" href="#Tag_Number">Tag_Number<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L119"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Tag_Number :: <a href="/core/builtin#u64"><span class="doc-builtin">u64</span></a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Tag_Unmarshal_Proc"><span><a class="doc-id-link" href="#Tag_Unmarshal_Proc">Tag_Unmarshal_Proc<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L64"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Tag_Unmarshal_Proc :: <span class="keyword-type">proc</span>(self: ^<a class="code-typename" href="/core/encoding/cbor/#Tag_Implementation">Tag_Implementation</a>, d: <a class="code-typename" href="/core/encoding/cbor/#Decoder">Decoder</a>, tag_nr: <a href="/core/builtin#u64"><span class="doc-builtin">u64</span></a>, v: <a href="/core/builtin#any"><span class="doc-builtin">any</span></a>) -> <a class="code-typename" href="/core/encoding/cbor/#Unmarshal_Error">Unmarshal_Error</a></pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Procedure responsible for umarshalling the tag out of the reader into the given <code>any</code>.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="Text"><span><a class="doc-id-link" href="#Text">Text<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L104"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Text :: <a href="/core/builtin#string"><span class="doc-builtin">string</span></a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Undefined"><span><a class="doc-id-link" href="#Undefined">Undefined<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L122"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Undefined :: <span class="keyword-type">distinct</span> <a href="/core/builtin#rawptr"><span class="doc-builtin">rawptr</span></a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Unmarshal_Data_Error"><span><a class="doc-id-link" href="#Unmarshal_Data_Error">Unmarshal_Data_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L175"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Unmarshal_Data_Error :: <span class="keyword-type">enum</span> <a href="/core/builtin#int"><span class="doc-builtin">int</span></a> {
	None, 
	Invalid_Parameter,     <span class="comment">// When the given `any` can not be unmarshalled into.</span>
	Non_Pointer_Parameter, <span class="comment">// When the given `any` is not a pointer.</span>
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Unmarshal_Error"><span><a class="doc-id-link" href="#Unmarshal_Error">Unmarshal_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L128"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Unmarshal_Error :: <span class="keyword-type">union</span> {
	io.<a class="code-typename" href="/core/io/#Error">Error</a>, 
	runtime.<a class="code-typename" href="/core/runtime/#Allocator_Error">Allocator_Error</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Decode_Data_Error">Decode_Data_Error</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Unmarshal_Data_Error">Unmarshal_Data_Error</a>, 
	runtime.<a class="code-typename" href="/core/runtime/#Maybe">Maybe</a>($T=Unsupported_Type_Error), 
}</pre>
</div>
<h5>Related Procedures With Returns</h5>
<ul>
<li><a href="/core/encoding/cbor/#decode_to_unmarshal_err">decode_to_unmarshal_err</a></li>
<li><a href="/core/encoding/cbor/#decode_to_unmarshal_err_p">decode_to_unmarshal_err_p</a></li>
<li><a href="/core/encoding/cbor/#decode_to_unmarshal_err_p2">decode_to_unmarshal_err_p2</a></li>
<li><a href="/core/encoding/cbor/#unmarshal_from_decoder">unmarshal_from_decoder</a></li>
<li><a href="/core/encoding/cbor/#unmarshal_from_reader">unmarshal_from_reader</a></li>
<li><a href="/core/encoding/cbor/#unmarshal_from_string">unmarshal_from_string</a></li>
<li><a href="/core/encoding/cbor/#err_conv">err_conv</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#unmarshal">unmarshal</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<div class="pkg-entity">
<h3 id="Unsupported_Type_Error"><span><a class="doc-id-link" href="#Unsupported_Type_Error">Unsupported_Type_Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L188"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Unsupported_Type_Error :: <span class="keyword-type">struct</span> {
	id:  <a href="/core/builtin#typeid"><span class="doc-builtin">typeid</span></a>,
	hdr: <a class="code-typename" href="/core/encoding/cbor/#Header">Header</a>,
	add: <a class="code-typename" href="/core/encoding/cbor/#Add">Add</a>,
}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Error that is returned when a type couldn't be marshalled into or out of, as much information
as possible/available is added.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="Value"><span><a class="doc-id-link" href="#Value">Value<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L76"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Value :: <span class="keyword-type">union</span> {
	<a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a>, 
	<a href="/core/builtin#u16"><span class="doc-builtin">u16</span></a>, 
	<a href="/core/builtin#u32"><span class="doc-builtin">u32</span></a>, 
	<a href="/core/builtin#u64"><span class="doc-builtin">u64</span></a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Negative_U8">Negative_U8</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Negative_U16">Negative_U16</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Negative_U32">Negative_U32</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Negative_U64">Negative_U64</a>, 
	^[]<a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a>, 
	^<a href="/core/builtin#string"><span class="doc-builtin">string</span></a>, 
	^[]<a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, 
	^[]<a class="code-typename" href="/core/encoding/cbor/#Map_Entry">Map_Entry</a>, 
	^<a class="code-typename" href="/core/encoding/cbor/#Tag">Tag</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Simple">Simple</a>, 
	<a href="/core/builtin#f16"><span class="doc-builtin">f16</span></a>, 
	<a href="/core/builtin#f32"><span class="doc-builtin">f32</span></a>, 
	<a href="/core/builtin#f64"><span class="doc-builtin">f64</span></a>, 
	<a href="/core/builtin#bool"><span class="doc-builtin">bool</span></a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Undefined">Undefined</a>, 
	<a class="code-typename" href="/core/encoding/cbor/#Nil">Nil</a>, 
}</pre>
</div>
<h5>Related Procedures With Parameters</h5>
<ul>
<li><a href="/core/encoding/cbor/#destroy">destroy</a></li>
<li><a href="/core/encoding/cbor/#diagnose_to_writer">diagnose_to_writer</a></li>
<li><a href="/core/encoding/cbor/#diagnostic_string">diagnostic_string</a></li>
<li><a href="/core/encoding/cbor/#encode_into_builder">encode_into_builder</a></li>
<li><a href="/core/encoding/cbor/#encode_into_bytes">encode_into_bytes</a></li>
<li><a href="/core/encoding/cbor/#encode_into_encoder">encode_into_encoder</a></li>
<li><a href="/core/encoding/cbor/#encode_into_writer">encode_into_writer</a></li>
<li><a href="/core/encoding/cbor/#encode_stream_map_entry">encode_stream_map_entry</a></li>
<li><a href="/core/encoding/cbor/#to_json">to_json</a></li>
<li><a href="/core/encoding/cbor/#diagnose">diagnose</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#encode">encode</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#encode_into">encode_into</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#encode_stream_array_item">encode_stream_array_item</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
<h5>Related Procedures With Returns</h5>
<ul>
<li><a href="/core/encoding/cbor/#decode_from_decoder">decode_from_decoder</a></li>
<li><a href="/core/encoding/cbor/#decode_from_reader">decode_from_reader</a></li>
<li><a href="/core/encoding/cbor/#decode_from_string">decode_from_string</a></li>
<li><a href="/core/encoding/cbor/#from_json">from_json</a></li>
<li><a href="/core/encoding/cbor/#decode">decode</a>&nbsp;<em>(procedure groups)</em></li>
<li><a href="/core/encoding/cbor/#decode_from">decode_from</a>&nbsp;<em>(procedure groups)</em></li>
</ul>
</div>
<h2 id="pkg-Constants" class="pkg-header">Constants</h2>
<div class="pkg-entity">
<h3 id="DEFAULT_MAX_PRE_ALLOC"><span><a class="doc-id-link" href="#DEFAULT_MAX_PRE_ALLOC">DEFAULT_MAX_PRE_ALLOC<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L18"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">DEFAULT_MAX_PRE_ALLOC :: mem.Kilobyte</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>The default maximum amount of bytes to allocate on a buffer/container at once to prevent
malicious input from causing massive allocations.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="ENCODE_FULLY_DETERMINISTIC"><span><a class="doc-id-link" href="#ENCODE_FULLY_DETERMINISTIC">ENCODE_FULLY_DETERMINISTIC<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L36"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">ENCODE_FULLY_DETERMINISTIC: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>] : Encoder_Flags{.Deterministic_Int_Size, .Deterministic_Float_Size, .Deterministic_Map_Sorting}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Flags for fully deterministic output (if you are not using streaming/indeterminate length).</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="ENCODE_SMALL"><span><a class="doc-id-link" href="#ENCODE_SMALL">ENCODE_SMALL<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L39"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">ENCODE_SMALL: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>] : Encoder_Flags{.Deterministic_Int_Size, .Deterministic_Float_Size}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Flags for the smallest encoding output.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="INITIALIZE_DEFAULT_TAGS"><span><a class="doc-id-link" href="#INITIALIZE_DEFAULT_TAGS">INITIALIZE_DEFAULT_TAGS<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L98"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">INITIALIZE_DEFAULT_TAGS :: #config(CBOR_INITIALIZE_DEFAULT_TAGS, !ODIN_DEFAULT_TO_NIL_ALLOCATOR && ODIN_OS != .JS && ODIN_OS != .WASI)</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Controls initialization of default tag implementations.
JS and WASI default to a panic allocator so we don't want to do it on those.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="INITIAL_STREAMED_BYTES_CAPACITY"><span><a class="doc-id-link" href="#INITIAL_STREAMED_BYTES_CAPACITY">INITIAL_STREAMED_BYTES_CAPACITY<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L14"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">INITIAL_STREAMED_BYTES_CAPACITY :: 16</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>If we are decoding a stream of either text or bytes, the initial capacity will be this value.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="INITIAL_STREAMED_CONTAINER_CAPACITY"><span><a class="doc-id-link" href="#INITIAL_STREAMED_CONTAINER_CAPACITY">INITIAL_STREAMED_CONTAINER_CAPACITY<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L11"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">INITIAL_STREAMED_CONTAINER_CAPACITY :: 8</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>If we are decoding a stream of either a map or list, the initial capacity will be this value.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="TAG_BASE64_ID"><span><a class="doc-id-link" href="#TAG_BASE64_ID">TAG_BASE64_ID<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L39"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_BASE64_ID :: "base64"</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="TAG_BASE64_NR"><span><a class="doc-id-link" href="#TAG_BASE64_NR">TAG_BASE64_NR<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L38"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_BASE64_NR :: 34</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>The contents of this tag are base64 encoded during marshal and decoded during unmarshal.
Use the struct tag <code>cbor_tag:"34"</code> or <code>cbor_tag:"base64"</code> to have your field string or bytes field en/decoded as base64.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="TAG_CBOR_ID"><span><a class="doc-id-link" href="#TAG_CBOR_ID">TAG_CBOR_ID<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L34"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_CBOR_ID :: "cbor"</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="TAG_CBOR_NR"><span><a class="doc-id-link" href="#TAG_CBOR_NR">TAG_CBOR_NR<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L33"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_CBOR_NR :: 24</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Sometimes it is beneficial to carry an embedded CBOR data item that is not meant to be decoded
immediately at the time the enclosing data item is being decoded. Tag number 24 (CBOR data item)
can be used to tag the embedded byte string as a single data item encoded in CBOR format.
Use the struct tag <code>cbor_tag:"24"</code> or <code>cbor_tag:"cbor"</code> to keep a non-decoded field (string or bytes) of raw CBOR.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="TAG_EPOCH_TIME_ID"><span><a class="doc-id-link" href="#TAG_EPOCH_TIME_ID">TAG_EPOCH_TIME_ID<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L18"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_EPOCH_TIME_ID :: "epoch"</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="TAG_EPOCH_TIME_NR"><span><a class="doc-id-link" href="#TAG_EPOCH_TIME_NR">TAG_EPOCH_TIME_NR<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L17"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_EPOCH_TIME_NR :: 1</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>UTC time in seconds, unmarshalled into a <code>core:time</code> <code>time.Time</code> or integer.
Use the struct tag <code>cbor_tag:"1"</code> or <code>cbor_tag:"epoch"</code> to have your <code>time.Time</code> field en/decoded as epoch time.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="TAG_NEGATIVE_BIG_NR"><span><a class="doc-id-link" href="#TAG_NEGATIVE_BIG_NR">TAG_NEGATIVE_BIG_NR<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L25"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_NEGATIVE_BIG_NR :: 3</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Using <code>core:math/big</code>, big integers are properly encoded and decoded during marshal and unmarshal.
These fields use this tag by default, no struct tag required.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="TAG_OBJECT_TYPE"><span><a class="doc-id-link" href="#TAG_OBJECT_TYPE">TAG_OBJECT_TYPE<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L54"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_OBJECT_TYPE :: 1010</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>A tag that is used to assign a textual type to the object following it.
The tag's value must be an array of 2 items, where the first is text (describing the following type)
and the second is any valid CBOR value.</p>
<p>See the registration: https://datatracker.ietf.org/doc/draft-rundgren-cotx/05/</p>
<p>We use this in Odin to marshal and unmarshal unions.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="TAG_SELF_DESCRIBED_CBOR"><span><a class="doc-id-link" href="#TAG_SELF_DESCRIBED_CBOR">TAG_SELF_DESCRIBED_CBOR<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L45"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_SELF_DESCRIBED_CBOR :: 55799</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>A tag that is used to detect the contents of a binary buffer (like a file) are CBOR.
This tag would wrap everything else, decoders can then check for this header and see if the
given content is definitely CBOR.
Added by the encoder if it has the flag <code>.Self_Described_CBOR</code>, decoded by default.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="TAG_UNSIGNED_BIG_NR"><span><a class="doc-id-link" href="#TAG_UNSIGNED_BIG_NR">TAG_UNSIGNED_BIG_NR<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L22"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">TAG_UNSIGNED_BIG_NR :: 2</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Using <code>core:math/big</code>, big integers are properly encoded and decoded during marshal and unmarshal.
These fields use this tag by default, no struct tag required.</p>
</details>
</div>
<h2 id="pkg-Variables" class="pkg-header">Variables</h2>
<p class="pkg-empty-section">This section is empty.</p>
<h2 id="pkg-Procedures" class="pkg-header">Procedures</h2>
<div class="pkg-entity">
<h3 id="decode_from_decoder"><span><a class="doc-id-link" href="#decode_from_decoder">decode_from_decoder<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L119"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">decode_from_decoder :: <span class="keyword-type">proc</span>(d: <a class="code-typename" href="/core/encoding/cbor/#Decoder">Decoder</a>, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (v: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, err: <a class="code-typename" href="/core/encoding/cbor/#Decode_Error">Decode_Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Reads a CBOR value from the given decoder.
See docs on the proc group <code>decode</code> for more information.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="decode_from_reader"><span><a class="doc-id-link" href="#decode_from_reader">decode_from_reader<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L110"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">decode_from_reader :: <span class="keyword-type">proc</span>(r: io.<a class="code-typename" href="/core/io/#Stream">Stream</a>, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Decoder_Flag">Decoder_Flag</a>] = {}, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (v: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, err: <a class="code-typename" href="/core/encoding/cbor/#Decode_Error">Decode_Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Reads a CBOR value from the given reader.
See docs on the proc group <code>decode</code> for more information.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="decode_from_string"><span><a class="doc-id-link" href="#decode_from_string">decode_from_string<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L102"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">decode_from_string :: <span class="keyword-type">proc</span>(s: <a href="/core/builtin#string"><span class="doc-builtin">string</span></a>, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Decoder_Flag">Decoder_Flag</a>] = {}, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (v: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, err: <a class="code-typename" href="/core/encoding/cbor/#Decode_Error">Decode_Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Decodes the given string as CBOR.
See docs on the proc group <code>decode</code> for more information.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="decode_to_unmarshal_err"><span><a class="doc-id-link" href="#decode_to_unmarshal_err">decode_to_unmarshal_err<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L256"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">decode_to_unmarshal_err :: <span class="keyword-type">proc</span>(err: <a class="code-typename" href="/core/encoding/cbor/#Decode_Error">Decode_Error</a>) -> <a class="code-typename" href="/core/encoding/cbor/#Unmarshal_Error">Unmarshal_Error</a> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="decode_to_unmarshal_err_p"><span><a class="doc-id-link" href="#decode_to_unmarshal_err_p">decode_to_unmarshal_err_p<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L266"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">decode_to_unmarshal_err_p :: <span class="keyword-type">proc</span>(v: $T, err: <a class="code-typename" href="/core/encoding/cbor/#Decode_Error">Decode_Error</a>) -> ($T, <a class="code-typename" href="/core/encoding/cbor/#Unmarshal_Error">Unmarshal_Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="decode_to_unmarshal_err_p2"><span><a class="doc-id-link" href="#decode_to_unmarshal_err_p2">decode_to_unmarshal_err_p2<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L270"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">decode_to_unmarshal_err_p2 :: <span class="keyword-type">proc</span>(v: $T, v2: $T, err: <a class="code-typename" href="/core/encoding/cbor/#Decode_Error">Decode_Error</a>) -> ($T, $T, <a class="code-typename" href="/core/encoding/cbor/#Unmarshal_Error">Unmarshal_Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="destroy"><span><a class="doc-id-link" href="#destroy">destroy<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L275"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">destroy :: <span class="keyword-type">proc</span>(val: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, allocator := <a href="/core/runtime/#Context">context.allocator</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Recursively frees all memory allocated when decoding the passed value.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="diagnose_to_writer"><span><a class="doc-id-link" href="#diagnose_to_writer">diagnose_to_writer<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L337"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">diagnose_to_writer :: <span class="keyword-type">proc</span>(w: io.<a class="code-typename" href="/core/io/#Stream">Stream</a>, val: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, padding: <a href="/core/builtin#int"><span class="doc-builtin">int</span></a> = 0) -> io.<a class="code-typename" href="/core/io/#Error">Error</a> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Writes the given CBOR value into the writer as human-readable text.
See docs on the proc group <code>diagnose</code> for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="diagnostic_string"><span><a class="doc-id-link" href="#diagnostic_string">diagnostic_string<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L322"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">diagnostic_string :: <span class="keyword-type">proc</span>(val: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, padding: <a href="/core/builtin#int"><span class="doc-builtin">int</span></a> = 0, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (<a href="/core/builtin#string"><span class="doc-builtin">string</span></a>, runtime.<a class="code-typename" href="/core/runtime/#Allocator_Error">Allocator_Error</a>) <span class="directive">#optional_ok</span> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Turns the given CBOR value into a human-readable string.
See docs on the proc group <code>diagnose</code> for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="encode_into_builder"><span><a class="doc-id-link" href="#encode_into_builder">encode_into_builder<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L216"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_into_builder :: <span class="keyword-type">proc</span>(b: ^strings.<a class="code-typename" href="/core/strings/#Builder">Builder</a>, v: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>] = ENCODE_SMALL) -> <a class="code-typename" href="/core/encoding/cbor/#Encode_Error">Encode_Error</a> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Encodes the CBOR value into binary CBOR written to the given builder.
See the docs on the proc group <code>encode_into</code> for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="encode_into_bytes"><span><a class="doc-id-link" href="#encode_into_bytes">encode_into_bytes<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L208"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_into_bytes :: <span class="keyword-type">proc</span>(v: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>] = ENCODE_SMALL, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (data: []<a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a>, err: <a class="code-typename" href="/core/encoding/cbor/#Encode_Error">Encode_Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Encodes the CBOR value into binary CBOR allocated on the given allocator.
See the docs on the proc group <code>encode_into</code> for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="encode_into_encoder"><span><a class="doc-id-link" href="#encode_into_encoder">encode_into_encoder<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L228"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_into_encoder :: <span class="keyword-type">proc</span>(e: <a class="code-typename" href="/core/encoding/cbor/#Encoder">Encoder</a>, v: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>) -> <a class="code-typename" href="/core/encoding/cbor/#Encode_Error">Encode_Error</a> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Encodes the CBOR value into binary CBOR written to the given encoder.
See the docs on the proc group <code>encode_into</code> for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="encode_into_writer"><span><a class="doc-id-link" href="#encode_into_writer">encode_into_writer<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L222"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_into_writer :: <span class="keyword-type">proc</span>(w: io.<a class="code-typename" href="/core/io/#Stream">Stream</a>, v: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>] = ENCODE_SMALL) -> <a class="code-typename" href="/core/encoding/cbor/#Encode_Error">Encode_Error</a> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Encodes the CBOR value into binary CBOR written to the given writer.
See the docs on the proc group <code>encode_into</code> for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="encode_stream_begin"><span><a class="doc-id-link" href="#encode_stream_begin">encode_stream_begin<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L793"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_stream_begin :: <span class="keyword-type">proc</span>(w: io.<a class="code-typename" href="/core/io/#Stream">Stream</a>, major: <a class="code-typename" href="/core/encoding/cbor/#Major">Major</a>) -> (err: io.<a class="code-typename" href="/core/io/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="encode_stream_end"><span><a class="doc-id-link" href="#encode_stream_end">encode_stream_end<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L801"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_stream_end :: <span class="keyword-type">proc</span>(w: io.<a class="code-typename" href="/core/io/#Stream">Stream</a>) -> io.<a class="code-typename" href="/core/io/#Error">Error</a> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="encode_stream_map_entry"><span><a class="doc-id-link" href="#encode_stream_map_entry">encode_stream_map_entry<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L811"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_stream_map_entry :: <span class="keyword-type">proc</span>(e: <a class="code-typename" href="/core/encoding/cbor/#Encoder">Encoder</a>, key: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, val: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>) -> <a class="code-typename" href="/core/encoding/cbor/#Encode_Error">Encode_Error</a> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="encode_to_marshal_err"><span><a class="doc-id-link" href="#encode_to_marshal_err">encode_to_marshal_err<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L242"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_to_marshal_err :: <span class="keyword-type">proc</span>(err: <a class="code-typename" href="/core/encoding/cbor/#Encode_Error">Encode_Error</a>) -> <a class="code-typename" href="/core/encoding/cbor/#Marshal_Error">Marshal_Error</a> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="encode_to_marshal_err_p2"><span><a class="doc-id-link" href="#encode_to_marshal_err_p2">encode_to_marshal_err_p2<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L252"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_to_marshal_err_p2 :: <span class="keyword-type">proc</span>(v: $T, v2: $T, err: <a class="code-typename" href="/core/encoding/cbor/#Encode_Error">Encode_Error</a>) -> ($T, $T, <a class="code-typename" href="/core/encoding/cbor/#Marshal_Error">Marshal_Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="from_json"><span><a class="doc-id-link" href="#from_json">from_json<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L477"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">from_json :: <span class="keyword-type">proc</span>(val: json.<a class="code-typename" href="/core/encoding/json/#Value">Value</a>, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (<a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, runtime.<a class="code-typename" href="/core/runtime/#Allocator_Error">Allocator_Error</a>) <span class="directive">#optional_ok</span> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Converts from JSON to CBOR.</p>
<p>Everything is copied to the given allocator, the passed in JSON value can be deleted after.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="marshal_into_builder"><span><a class="doc-id-link" href="#marshal_into_builder">marshal_into_builder<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/marshal.odin#L65"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">marshal_into_builder :: <span class="keyword-type">proc</span>(b: ^strings.<a class="code-typename" href="/core/strings/#Builder">Builder</a>, v: <a href="/core/builtin#any"><span class="doc-builtin">any</span></a>, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>] = ENCODE_SMALL) -> <a class="code-typename" href="/core/encoding/cbor/#Marshal_Error">Marshal_Error</a> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Marshals the given value into a CBOR byte stream written to the given builder.
See docs on the <code>marshal_into</code> proc group for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="marshal_into_bytes"><span><a class="doc-id-link" href="#marshal_into_bytes">marshal_into_bytes<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/marshal.odin#L47"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">marshal_into_bytes :: <span class="keyword-type">proc</span>(v: <a href="/core/builtin#any"><span class="doc-builtin">any</span></a>, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>] = ENCODE_SMALL, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (bytes: []<a href="/core/builtin#u8"><span class="doc-builtin">u8</span></a>, err: <a class="code-typename" href="/core/encoding/cbor/#Marshal_Error">Marshal_Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Marshals the given value into a CBOR byte stream (allocated using the given allocator).
See docs on the <code>marshal_into</code> proc group for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="marshal_into_encoder"><span><a class="doc-id-link" href="#marshal_into_encoder">marshal_into_encoder<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/marshal.odin#L78"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">marshal_into_encoder :: <span class="keyword-type">proc</span>(e: <a class="code-typename" href="/core/encoding/cbor/#Encoder">Encoder</a>, v: <a href="/core/builtin#any"><span class="doc-builtin">any</span></a>) -> (err: <a class="code-typename" href="/core/encoding/cbor/#Marshal_Error">Marshal_Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Marshals the given value into a CBOR byte stream written to the given encoder.
See docs on the <code>marshal_into</code> proc group for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="marshal_into_writer"><span><a class="doc-id-link" href="#marshal_into_writer">marshal_into_writer<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/marshal.odin#L71"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">marshal_into_writer :: <span class="keyword-type">proc</span>(w: io.<a class="code-typename" href="/core/io/#Stream">Stream</a>, v: <a href="/core/builtin#any"><span class="doc-builtin">any</span></a>, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Encoder_Flag">Encoder_Flag</a>] = ENCODE_SMALL) -> <a class="code-typename" href="/core/encoding/cbor/#Marshal_Error">Marshal_Error</a> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Marshals the given value into a CBOR byte stream written to the given writer.
See docs on the <code>marshal_into</code> proc group for more info.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="negative_u16_to_int"><span><a class="doc-id-link" href="#negative_u16_to_int">negative_u16_to_int<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L221"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">negative_u16_to_int :: <span class="keyword-type">proc</span>(u: <a class="code-typename" href="/core/encoding/cbor/#Negative_U16">Negative_U16</a>) -> <a href="/core/builtin#i32"><span class="doc-builtin">i32</span></a> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="negative_u32_to_int"><span><a class="doc-id-link" href="#negative_u32_to_int">negative_u32_to_int<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L225"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">negative_u32_to_int :: <span class="keyword-type">proc</span>(u: <a class="code-typename" href="/core/encoding/cbor/#Negative_U32">Negative_U32</a>) -> <a href="/core/builtin#i64"><span class="doc-builtin">i64</span></a> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="negative_u64_to_int"><span><a class="doc-id-link" href="#negative_u64_to_int">negative_u64_to_int<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L229"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">negative_u64_to_int :: <span class="keyword-type">proc</span>(u: <a class="code-typename" href="/core/encoding/cbor/#Negative_U64">Negative_U64</a>) -> <a href="/core/builtin#i128"><span class="doc-builtin">i128</span></a> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="negative_u8_to_int"><span><a class="doc-id-link" href="#negative_u8_to_int">negative_u8_to_int<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L217"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">negative_u8_to_int :: <span class="keyword-type">proc</span>(u: <a class="code-typename" href="/core/encoding/cbor/#Negative_U8">Negative_U8</a>) -> <a href="/core/builtin#i16"><span class="doc-builtin">i16</span></a> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="tag_register_number"><span><a class="doc-id-link" href="#tag_register_number">tag_register_number<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L91"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">tag_register_number :: <span class="keyword-type">proc</span>(impl: <a class="code-typename" href="/core/encoding/cbor/#Tag_Implementation">Tag_Implementation</a>, nr: <a href="/core/builtin#u64"><span class="doc-builtin">u64</span></a>, id: <a href="/core/builtin#string"><span class="doc-builtin">string</span></a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Register a custom tag implementation to be used when marshalling that tag number or marshalling
a field with the struct tag <code>cbor_tag:"nr"</code>.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="tag_register_type"><span><a class="doc-id-link" href="#tag_register_type">tag_register_type<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L84"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">tag_register_type :: <span class="keyword-type">proc</span>(impl: <a class="code-typename" href="/core/encoding/cbor/#Tag_Implementation">Tag_Implementation</a>, nr: <a href="/core/builtin#u64"><span class="doc-builtin">u64</span></a>, type: <a href="/core/builtin#typeid"><span class="doc-builtin">typeid</span></a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Register a custom tag implementation to be used when marshalling that type and unmarshalling that tag number.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="tags_register_defaults"><span><a class="doc-id-link" href="#tags_register_defaults">tags_register_defaults<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin#L107"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">tags_register_defaults :: <span class="keyword-type">proc</span>() {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Registers tags that have implementations provided by this package.
This is done by default and can be controlled with the <code>CBOR_INITIALIZE_DEFAULT_TAGS</code> define.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="to_json"><span><a class="doc-id-link" href="#to_json">to_json<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L528"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">to_json :: <span class="keyword-type">proc</span>(val: <a class="code-typename" href="/core/encoding/cbor/#Value">Value</a>, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (json.<a class="code-typename" href="/core/encoding/json/#Value">Value</a>, runtime.<a class="code-typename" href="/core/runtime/#Allocator_Error">Allocator_Error</a>) <span class="directive">#optional_ok</span> {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Converts from CBOR to JSON.</p>
<p>NOTE: overflow on integers or floats is not handled.</p>
<p>Everything is copied to the given allocator, the passed in CBOR value can be <code>destroy</code>'ed after.</p>
<p>If a CBOR map with non-string keys is encountered it is turned into an array of tuples.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="unmarshal_from_decoder"><span><a class="doc-id-link" href="#unmarshal_from_decoder">unmarshal_from_decoder<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/unmarshal.odin#L53"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">unmarshal_from_decoder :: <span class="keyword-type">proc</span>(d: <a class="code-typename" href="/core/encoding/cbor/#Decoder">Decoder</a>, ptr: ^$T, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (err: <a class="code-typename" href="/core/encoding/cbor/#Unmarshal_Error">Unmarshal_Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="unmarshal_from_reader"><span><a class="doc-id-link" href="#unmarshal_from_reader">unmarshal_from_reader<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/unmarshal.odin#L33"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">unmarshal_from_reader :: <span class="keyword-type">proc</span>(r: io.<a class="code-typename" href="/core/io/#Stream">Stream</a>, ptr: ^$T, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Decoder_Flag">Decoder_Flag</a>] = Decoder_Flags{}, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (err: <a class="code-typename" href="/core/encoding/cbor/#Unmarshal_Error">Unmarshal_Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="unmarshal_from_string"><span><a class="doc-id-link" href="#unmarshal_from_string">unmarshal_from_string<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/unmarshal.odin#L42"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">unmarshal_from_string :: <span class="keyword-type">proc</span>(s: <a href="/core/builtin#string"><span class="doc-builtin">string</span></a>, ptr: ^$T, flags: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/cbor/#Decoder_Flag">Decoder_Flag</a>] = Decoder_Flags{}, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (err: <a class="code-typename" href="/core/encoding/cbor/#Unmarshal_Error">Unmarshal_Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Unmarshals from a string, see docs on the proc group <code>Unmarshal</code> for more info.</p>
</details>
</div>
<h2 id="pkg-Procedure Groups" class="pkg-header">Procedure Groups</h2>
<div class="pkg-entity">
<h3 id="decode"><span><a class="doc-id-link" href="#decode">decode<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L98"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">decode :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#decode_from_string">decode_from_string</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#decode_from_reader">decode_from_reader</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#decode_from_decoder">decode_from_decoder</a>,
}
</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="decode_from"><span><a class="doc-id-link" href="#decode_from">decode_from<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L93"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">decode_from :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#decode_from_string">decode_from_string</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#decode_from_reader">decode_from_reader</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#decode_from_decoder">decode_from_decoder</a>,
}
</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Decodes both deterministic and non-deterministic CBOR into a <code>Value</code> variant.</p>
<p><code>Text</code> and <code>Bytes</code> can safely be cast to cstrings because of an added 0 byte.</p>
<p>Allocations are done using the given allocator,
<i>no</i> allocations are done on the <code>context.temp_allocator</code>.</p>
<p>A value can be (fully and recursively) deallocated using the <code>destroy</code> proc in this package.</p>
<p>Disable streaming/indeterminate lengths with the <code>.Disallow_Streaming</code> flag.</p>
<p>Shrink excess bytes in buffers and containers with the <code>.Shrink_Excess</code> flag.</p>
<p>Mark the input as trusted input with the <code>.Trusted_Input</code> flag, this turns off the safety feature
of not pre-allocating more than <code>max_pre_alloc</code> bytes before reading into the bytes. You should only
do this when you own both sides of the encoding and are sure there can't be malicious bytes used as
an input.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="diagnose"><span><a class="doc-id-link" href="#diagnose">diagnose<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L315"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">diagnose :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#diagnostic_string">diagnostic_string</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#diagnose_to_writer">diagnose_to_writer</a>,
}
</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>diagnose either writes or returns a human-readable representation of the value,
optionally formatted, defined as the diagnostic format in section 8 of RFC 8949.</p>
<p>Incidentally, if the CBOR does not contain any of the additional types defined on top of JSON
this will also be valid JSON.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="encode"><span><a class="doc-id-link" href="#encode">encode<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L204"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_bytes">encode_into_bytes</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_builder">encode_into_builder</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_writer">encode_into_writer</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_encoder">encode_into_encoder</a>,
}
</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="encode_into"><span><a class="doc-id-link" href="#encode_into">encode_into<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L198"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_into :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_bytes">encode_into_bytes</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_builder">encode_into_builder</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_writer">encode_into_writer</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_encoder">encode_into_encoder</a>,
}
</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Encodes the CBOR value into a binary CBOR.</p>
<p>Flags can be used to control the output (mainly determinism, which coincidently affects size).</p>
<p>The default flags <code>ENCODE_SMALL</code> (<code>.Deterministic_Int_Size</code>, <code>.Deterministic_Float_Size</code>) will try
to put ints and floats into their smallest possible byte size without losing equality.</p>
<p>Adding the <code>.Self_Described_CBOR</code> flag will wrap the value in a tag that lets generic decoders know
the contents are CBOR from just reading the first byte.</p>
<p>Adding the <code>.Deterministic_Map_Sorting</code> flag will sort the encoded maps by the byte content of the
encoded key. This flag has a cost on performance and memory efficiency because all keys in a map
have to be precomputed, sorted and only then written to the output.</p>
<p>Empty flags will do nothing extra to the value.</p>
<p>The allocations for the <code>.Deterministic_Map_Sorting</code> flag are done using the <code>context.temp_allocator</code>
but are followed by the necessary <code>delete</code> and <code>free</code> calls if the allocator supports them.
This is helpful when the CBOR size is so big that you don't want to collect all the temporary
allocations until the end.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="encode_stream_array_item"><span><a class="doc-id-link" href="#encode_stream_array_item">encode_stream_array_item<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin#L809"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">encode_stream_array_item :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_bytes">encode_into_bytes</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_builder">encode_into_builder</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_writer">encode_into_writer</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_into_encoder">encode_into_encoder</a>,
}
</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="err_conv"><span><a class="doc-id-link" href="#err_conv">err_conv<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L234"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">err_conv :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#encode_to_marshal_err">encode_to_marshal_err</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#encode_to_marshal_err_p2">encode_to_marshal_err_p2</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#decode_to_unmarshal_err">decode_to_unmarshal_err</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#decode_to_unmarshal_err_p">decode_to_unmarshal_err_p</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#decode_to_unmarshal_err_p2">decode_to_unmarshal_err_p2</a>,
}
</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Utility for converting between the different errors when they are subsets of the other.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="marshal"><span><a class="doc-id-link" href="#marshal">marshal<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/marshal.odin#L43"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">marshal :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#marshal_into_bytes">marshal_into_bytes</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#marshal_into_builder">marshal_into_builder</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#marshal_into_writer">marshal_into_writer</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#marshal_into_encoder">marshal_into_encoder</a>,
}
</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="marshal_into"><span><a class="doc-id-link" href="#marshal_into">marshal_into<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/marshal.odin#L36"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">marshal_into :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#marshal_into_bytes">marshal_into_bytes</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#marshal_into_builder">marshal_into_builder</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#marshal_into_writer">marshal_into_writer</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#marshal_into_encoder">marshal_into_encoder</a>,
}
</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Marshal a value into binary CBOR.</p>
<p>Flags can be used to control the output (mainly determinism, which coincidently affects size).</p>
<p>The default flags <code>ENCODE_SMALL</code> (<code>.Deterministic_Int_Size</code>, <code>.Deterministic_Float_Size</code>) will try
to put ints and floats into their smallest possible byte size without losing equality.</p>
<p>Adding the <code>.Self_Described_CBOR</code> flag will wrap the value in a tag that lets generic decoders know
the contents are CBOR from just reading the first byte.</p>
<p>Adding the <code>.Deterministic_Map_Sorting</code> flag will sort the encoded maps by the byte content of the
encoded key. This flag has a cost on performance and memory efficiency because all keys in a map
have to be precomputed, sorted and only then written to the output.</p>
<p>Empty flags will do nothing extra to the value.</p>
<p>The allocations for the <code>.Deterministic_Map_Sorting</code> flag are done using the <code>context.temp_allocator</code>
but are followed by the necessary <code>delete</code> and <code>free</code> calls if the allocator supports them.
This is helpful when the CBOR size is so big that you don't want to collect all the temporary
allocations until the end.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="negative_to_int"><span><a class="doc-id-link" href="#negative_to_int">negative_to_int<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin#L210"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">negative_to_int :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#negative_u8_to_int">negative_u8_to_int</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#negative_u16_to_int">negative_u16_to_int</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#negative_u32_to_int">negative_u32_to_int</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#negative_u64_to_int">negative_u64_to_int</a>,
}
</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Turns the CBOR negative unsigned int type into a signed integer type.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="unmarshal"><span><a class="doc-id-link" href="#unmarshal">unmarshal<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/unmarshal.odin#L28"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">unmarshal :: proc{
	<a class="code-procedure" href="/core/encoding/cbor/#unmarshal_from_reader">unmarshal_from_reader</a>,
	<a class="code-procedure" href="/core/encoding/cbor/#unmarshal_from_string">unmarshal_from_string</a>,
}
</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Unmarshals the given CBOR into the given pointer using reflection.
Types that require allocation are allocated using the given allocator.</p>
<p>Some temporary allocations are done on the <code>context.temp_allocator</code>, but, if you want to,
this can be set to a "normal" allocator, because the necessary <code>delete</code> and <code>free</code> calls are still made.
This is helpful when the CBOR size is so big that you don't want to collect all the temporary allocations until the end.</p>
<p>Disable streaming/indeterminate lengths with the <code>.Disallow_Streaming</code> flag.</p>
<p>Shrink excess bytes in buffers and containers with the <code>.Shrink_Excess</code> flag.</p>
<p>Mark the input as trusted input with the <code>.Trusted_Input</code> flag, this turns off the safety feature
of not pre-allocating more than <code>max_pre_alloc</code> bytes before reading into the bytes. You should only
do this when you own both sides of the encoding and are sure there can't be malicious bytes used as
an input.</p>
</details>
</div>
</section>
<h2 id="pkg-source-files">Source Files</h2>
<ul>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/cbor.odin">cbor.odin</a></li>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/coding.odin">coding.odin</a></li>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/doc.odin">doc.odin</a></li>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/marshal.odin">marshal.odin</a></li>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/tags.odin">tags.odin</a></li>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/cbor/unmarshal.odin">unmarshal.odin</a></li>
</ul>
<h2 id="pkg-generation-information">Generation Information</h2>
<p>Generated with <code>odin version dev-2023-12 (vendor "odin") Windows_amd64 @ 2023-12-23 21:49:20.840497700 +0000 UTC</code></p>
</article>
<div class="col-lg-2 odin-toc-border navbar-light"><div class="sticky-top odin-below-navbar py-3">
<nav id="TableOfContents">
<ul>
<li><a href="#pkg-overview">Overview</a><li><a href="#pkg-Types">Types</a><ul>
<li><a href="#Add">Add</a></li>
<li><a href="#Array">Array</a></li>
<li><a href="#Atom">Atom</a></li>
<li><a href="#Bytes">Bytes</a></li>
<li><a href="#Decode_Data_Error">Decode_Data_Error</a></li>
<li><a href="#Decode_Error">Decode_Error</a></li>
<li><a href="#Decoder">Decoder</a></li>
<li><a href="#Decoder_Flag">Decoder_Flag</a></li>
<li><a href="#Decoder_Flags">Decoder_Flags</a></li>
<li><a href="#Encode_Data_Error">Encode_Data_Error</a></li>
<li><a href="#Encode_Error">Encode_Error</a></li>
<li><a href="#Encoder">Encoder</a></li>
<li><a href="#Encoder_Flag">Encoder_Flag</a></li>
<li><a href="#Encoder_Flags">Encoder_Flags</a></li>
<li><a href="#Header">Header</a></li>
<li><a href="#Major">Major</a></li>
<li><a href="#Map">Map</a></li>
<li><a href="#Map_Entry">Map_Entry</a></li>
<li><a href="#Marshal_Data_Error">Marshal_Data_Error</a></li>
<li><a href="#Marshal_Error">Marshal_Error</a></li>
<li><a href="#Negative_U16">Negative_U16</a></li>
<li><a href="#Negative_U32">Negative_U32</a></li>
<li><a href="#Negative_U64">Negative_U64</a></li>
<li><a href="#Negative_U8">Negative_U8</a></li>
<li><a href="#Nil">Nil</a></li>
<li><a href="#Simple">Simple</a></li>
<li><a href="#Tag">Tag</a></li>
<li><a href="#Tag_Implementation">Tag_Implementation</a></li>
<li><a href="#Tag_Marshal_Proc">Tag_Marshal_Proc</a></li>
<li><a href="#Tag_Number">Tag_Number</a></li>
<li><a href="#Tag_Unmarshal_Proc">Tag_Unmarshal_Proc</a></li>
<li><a href="#Text">Text</a></li>
<li><a href="#Undefined">Undefined</a></li>
<li><a href="#Unmarshal_Data_Error">Unmarshal_Data_Error</a></li>
<li><a href="#Unmarshal_Error">Unmarshal_Error</a></li>
<li><a href="#Unsupported_Type_Error">Unsupported_Type_Error</a></li>
<li><a href="#Value">Value</a></li>
</ul>
</li>
<li><a href="#pkg-Constants">Constants</a><ul>
<li><a href="#DEFAULT_MAX_PRE_ALLOC">DEFAULT_MAX_PRE_ALLOC</a></li>
<li><a href="#ENCODE_FULLY_DETERMINISTIC">ENCODE_FULLY_DETERMINISTIC</a></li>
<li><a href="#ENCODE_SMALL">ENCODE_SMALL</a></li>
<li><a href="#INITIALIZE_DEFAULT_TAGS">INITIALIZE_DEFAULT_TAGS</a></li>
<li><a href="#INITIAL_STREAMED_BYTES_CAPACITY">INITIAL_STREAMED_BYTES_CAPACITY</a></li>
<li><a href="#INITIAL_STREAMED_CONTAINER_CAPACITY">INITIAL_STREAMED_CONTAINER_CAPACITY</a></li>
<li><a href="#TAG_BASE64_ID">TAG_BASE64_ID</a></li>
<li><a href="#TAG_BASE64_NR">TAG_BASE64_NR</a></li>
<li><a href="#TAG_CBOR_ID">TAG_CBOR_ID</a></li>
<li><a href="#TAG_CBOR_NR">TAG_CBOR_NR</a></li>
<li><a href="#TAG_EPOCH_TIME_ID">TAG_EPOCH_TIME_ID</a></li>
<li><a href="#TAG_EPOCH_TIME_NR">TAG_EPOCH_TIME_NR</a></li>
<li><a href="#TAG_NEGATIVE_BIG_NR">TAG_NEGATIVE_BIG_NR</a></li>
<li><a href="#TAG_OBJECT_TYPE">TAG_OBJECT_TYPE</a></li>
<li><a href="#TAG_SELF_DESCRIBED_CBOR">TAG_SELF_DESCRIBED_CBOR</a></li>
<li><a href="#TAG_UNSIGNED_BIG_NR">TAG_UNSIGNED_BIG_NR</a></li>
</ul>
</li>
<li><a href="#pkg-Procedures">Procedures</a><ul>
<li><a href="#decode_from_decoder">decode_from_decoder</a></li>
<li><a href="#decode_from_reader">decode_from_reader</a></li>
<li><a href="#decode_from_string">decode_from_string</a></li>
<li><a href="#decode_to_unmarshal_err">decode_to_unmarshal_err</a></li>
<li><a href="#decode_to_unmarshal_err_p">decode_to_unmarshal_err_p</a></li>
<li><a href="#decode_to_unmarshal_err_p2">decode_to_unmarshal_err_p2</a></li>
<li><a href="#destroy">destroy</a></li>
<li><a href="#diagnose_to_writer">diagnose_to_writer</a></li>
<li><a href="#diagnostic_string">diagnostic_string</a></li>
<li><a href="#encode_into_builder">encode_into_builder</a></li>
<li><a href="#encode_into_bytes">encode_into_bytes</a></li>
<li><a href="#encode_into_encoder">encode_into_encoder</a></li>
<li><a href="#encode_into_writer">encode_into_writer</a></li>
<li><a href="#encode_stream_begin">encode_stream_begin</a></li>
<li><a href="#encode_stream_end">encode_stream_end</a></li>
<li><a href="#encode_stream_map_entry">encode_stream_map_entry</a></li>
<li><a href="#encode_to_marshal_err">encode_to_marshal_err</a></li>
<li><a href="#encode_to_marshal_err_p2">encode_to_marshal_err_p2</a></li>
<li><a href="#from_json">from_json</a></li>
<li><a href="#marshal_into_builder">marshal_into_builder</a></li>
<li><a href="#marshal_into_bytes">marshal_into_bytes</a></li>
<li><a href="#marshal_into_encoder">marshal_into_encoder</a></li>
<li><a href="#marshal_into_writer">marshal_into_writer</a></li>
<li><a href="#negative_u16_to_int">negative_u16_to_int</a></li>
<li><a href="#negative_u32_to_int">negative_u32_to_int</a></li>
<li><a href="#negative_u64_to_int">negative_u64_to_int</a></li>
<li><a href="#negative_u8_to_int">negative_u8_to_int</a></li>
<li><a href="#tag_register_number">tag_register_number</a></li>
<li><a href="#tag_register_type">tag_register_type</a></li>
<li><a href="#tags_register_defaults">tags_register_defaults</a></li>
<li><a href="#to_json">to_json</a></li>
<li><a href="#unmarshal_from_decoder">unmarshal_from_decoder</a></li>
<li><a href="#unmarshal_from_reader">unmarshal_from_reader</a></li>
<li><a href="#unmarshal_from_string">unmarshal_from_string</a></li>
</ul>
</li>
<li><a href="#pkg-Procedure Groups">Procedure Groups</a><ul>
<li><a href="#decode">decode</a></li>
<li><a href="#decode_from">decode_from</a></li>
<li><a href="#diagnose">diagnose</a></li>
<li><a href="#encode">encode</a></li>
<li><a href="#encode_into">encode_into</a></li>
<li><a href="#encode_stream_array_item">encode_stream_array_item</a></li>
<li><a href="#err_conv">err_conv</a></li>
<li><a href="#marshal">marshal</a></li>
<li><a href="#marshal_into">marshal_into</a></li>
<li><a href="#negative_to_int">negative_to_int</a></li>
<li><a href="#unmarshal">unmarshal</a></li>
</ul>
</li>
<li><a href="#pkg-source-files">Source Files</a></ul>
</nav>
</div></div>
<script type="text/javascript">var odin_pkg_name = "cbor";</script>
</div>

</div>
</main>

<footer class="odin-footer">
	<div class="container pb-5 pt-5">
		<div class="row g-4">
		<div class="col">
		<a class="navbar-brand" href="https://odin-lang.org">
		<img class="mb-3" src="https://odin-lang.org/logo.svg" height="30" alt="Odin"></a>
		<p>
		The Data-Oriented Language for Sane Software Development.
		</p>
		</div>
		<nav class="col-md-auto">
			<h4 class="fw-normal">Resources</h4>
			<ul class="list-unstyled">
			<li><a href="https://odin-lang.org/docs" class="link-light">Docs</a></li>
			<li><a href="https://pkg.odin-lang.org/" class="link-light">Packages</a></li>
			<li><a href="https://odin-lang.org/news" class="link-light">News</a></li>
			</ul>
		</nav>
		<nav class="col-md-auto">
			<h4 class="fw-normal">Community</h4>
			<ul class="list-unstyled">
			<li><a href="https://github.com/odin-lang/Odin" target="_blank" class="link-light">GitHub</a></li>
			<li><a href="https://discord.com/invite/sVBPHEv" target="_blank" class="link-light">Discord</a></li>
			<li><a href="https://www.twitch.tv/ginger_bill" target="_blank" class="link-light">Twitch</a></li>
			<li><a href="https://www.youtube.com/channel/UCUSck1dOH7VKmG4lRW7tZXg" target="_blank" class="link-light">YouTube</a></li>
			</ul>
		</nav>
		<nav class="col-md-auto">
			<h4 class="fw-normal">Contribute</h4>
			<ul class="list-unstyled">
			<li><a href="https://github.com/odin-lang/Odin/issues" target="_blank" class="link-light">Issues</a></li>
			<li><a href="https://www.patreon.com/gingerbill" target="_blank" class="link-light">Donate</a></li>
			</ul>
			</nav>
		</div>
		<div class="mt-4 text-muted">© 2016–2023 Ginger Bill</div>
	</div>
</footer>

<script src="https://odin-lang.org/lib/bootstrap/js/bootstrap.min.js"></script>
<script src="https://odin-lang.org/js/script.js"></script>
<script src="/pkg-data.js"></script>
<script src="/search.js"></script>
</body>
</html>
